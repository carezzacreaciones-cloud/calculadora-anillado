<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Centro de Anillado — Calculadora de Márgenes (mm)</title>
  <style>
    :root{
      --bg:#fbfaf7;--card:#ffffff;--ink:#1f2937;--muted:#6b7280;--brand:#7c6cff;--ok:#22c55e;--warn:#f59e0b;
      --radius:18px;--shadow:0 10px 30px rgba(31,41,55,.08);
    }
    html,body{background:var(--bg);color:var(--ink);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial;margin:0;padding:0;}
    .wrap{max-width:700px;margin:40px auto;padding:20px}
    h1{font-size:clamp(22px,3vw,30px);margin-bottom:10px;text-align:center}
    p.lead{text-align:center;color:var(--muted);margin-bottom:24px}
    .card{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:24px}
    label{display:block;margin-bottom:6px;font-weight:600;color:var(--ink)}
    input[type=number]{width:100%;padding:10px;border:1px solid #e5e7eb;border-radius:12px;font-size:16px}
    input[type=number]:focus{border-color:var(--brand);outline:none;box-shadow:0 0 0 3px rgba(124,108,255,.15)}
    .fields{display:grid;gap:20px;margin-bottom:20px}
    .out{display:flex;flex-wrap:wrap;gap:12px;margin-bottom:16px;justify-content:center}
    .pill{background:#f3f4f6;border-radius:999px;padding:8px 14px;font-weight:600}
    .pill.ok{background:#ecfdf5;color:#065f46}
    .pill.warn{background:#fffbeb;color:#7c2d12}
    .btn{border:none;border-radius:10px;padding:10px 14px;font-weight:700;cursor:pointer}
    .btn.primary{background:var(--brand);color:white}
    .btn.ghost{background:transparent;border:1px dashed #d1d5db;color:#374151}
    .callout{border-left:4px solid var(--brand);background:#f8f7ff;padding:14px;border-radius:10px;font-size:15px;}
    footer{text-align:center;color:var(--muted);font-size:12px;margin-top:30px}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Centro de Anillado</h1>
    <p class="lead">Ingresa los márgenes desde el <strong>inicio</strong> y el <strong>fin</strong> del borde a perforar (en milímetros) para saber cuánto debes mover para que el anillado quede centrado.</p>

    <div class="card">
      <div class="fields">
        <div>
          <label for="inicio">Margen desde INICIO (mm)</label>
          <input id="inicio" type="number" inputmode="decimal" min="0" step="0.1" value="10">
        </div>
        <div>
          <label for="fin">Margen desde FIN (mm)</label>
          <input id="fin" type="number" inputmode="decimal" min="0" step="0.1" value="16">
        </div>
      </div>

      <div class="out" id="outPills"></div>

      <div class="callout" id="callout">Introduce valores para ver las instrucciones de centrado.</div>

      <div style="margin-top:18px;display:flex;gap:10px;justify-content:center;flex-wrap:wrap">
        <button class="btn primary" id="copy">Copiar instrucciones</button>
        <button class="btn ghost" id="reset">Restablecer</button>
      </div>
    </div>

    <footer>
      Consejo: si <em>inicio = fin</em>, ya estás centrada.
    </footer>
  </div>

<script>
(function(){
  const $ = s=>document.querySelector(s);
  const inicio = $('#inicio');
  const fin = $('#fin');
  const outPills = $('#outPills');
  const callout = $('#callout');

  function round2(n){return Math.round((n + Number.EPSILON)*100)/100}

  function recalc(){
    const i = parseFloat(inicio.value)||0;
    const f = parseFloat(fin.value)||0;
    const total = i + f;
    const mitad = total/2;
    const delta = Math.abs(f - i)/2;

    outPills.innerHTML = '';
    addPill(`Total márgenes: ${round2(total)} mm`);
    addPill(`Mitad ideal: ${round2(mitad)} mm`);
    addPill(delta===0?`Ajuste: 0 mm (ya centrado)`:`Ajuste: ${round2(delta)} mm`, delta===0?'ok':'warn');

    if(delta===0){
      callout.textContent = `Perfecto: márgenes iguales, no necesitas mover.`;
    } else {
      callout.textContent = `Debes mover de derecha a izquierda ${round2(delta)} mm.`;
    }
  }

  function addPill(txt,variant){
    const el=document.createElement('div');
    el.className='pill'+(variant?' '+variant:'');
    el.textContent=txt;
    outPills.appendChild(el);
  }

  ['input','change'].forEach(ev=>{
    inicio.addEventListener(ev,recalc);
    fin.addEventListener(ev,recalc);
  });

  $('#reset').addEventListener('click',()=>{
    inicio.value=10; fin.value=16; recalc();
  });

  $('#copy').addEventListener('click',()=>{
    const txt = callout.textContent.trim();
    navigator.clipboard.writeText(txt).then(()=>{
      const old=$('#copy').textContent;
      $('#copy').textContent='¡Copiado!';
      setTimeout(()=>$('#copy').textContent=old,1200);
    });
  });

  recalc();
})();
</script>
</body>
</html>
